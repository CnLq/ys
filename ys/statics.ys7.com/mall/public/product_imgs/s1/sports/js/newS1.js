!function(a){"use strict";function c(c,h){var v=this;v.options=h,v.ele=a(c);var w=v.options;v.init(),v.rederHtml(),v.bindScrollEvent(),0==w.hasLocation&&w.anchorName?window.location.hash=v.names[0]:setTimeout(function(){v.animateScrollTo(v.index)},700)}a.fn.ysSlide=function(h,v){return this.each(function(){var w=a.data(this,"ysSlide");w||(h=a.extend(a.fn.ysSlide.defaults,h),w=new c(this,h),a.data(this,"ysSlide",w)),"string"==typeof h&&"function"==typeof w[h]&&w[h].apply(w,v||[])})},a.fn.ysSlide.defaults={scrollSpeed:700,easings:"easeInOutCubic",sectionPanel:".panel",offset:0,headerBar:0,footer:0,anchorName:"anchor-name",scrollbar:!0,nav:!1,beftoreScroll:function(){},afterScroll:function(){}};var h=c.prototype;h.init=function(){var c=this.options,h=this,v=[],w=[],b=[],S=window.location.hash,g=!1,y=0;b=h.ele.find(c.sectionPanel);for(var i=0;i<b.length;i++)w[i]=a(b[i]).offset().top;if(a(b).each(function(i){w[i]=a(this).offset().top+c.offset,v[i]=c.anchorName&&a(this).data(c.anchorName)?"#"+a(this).data(c.anchorName).replace(/ /g,"-"):"#"+(i+1),S==v[i]&&(y=i,g=!0)}),c.headerH>0&&(h.header={name:"header",offsetY:0}),c.footerH>0){var T=w[w.length-1]+w[0]+c.footerH;h.footer={name:"footer",offsetY:T}}h.scrollTop=a(window).scrollTop(),h.scrollable=!1,h.names=v,h.heights=w,h.panels=b,h.currentHash=S,h.hasLocation=g,h.target="html,body",h.index=y,h.timeoutId=""},h.rederHtml=function(){var c=this,h=this.options,v=this.panels,w=a('<div id="ys-nav" class="right"><ul></ul></div>');w.insertAfter(c.ele);for(var i=0;i<v.length;i++){var b=[];b.push('<li><a data-index="',i,'"'),c.index==i&&b.push('class="active"'),b.push('><span></span></a><div class="ys-tooltip right">',h.navTip[i],"</div></li>"),w.find("ul").append(b.join(""))}w.find("a").on("click",function(){var h=a(this).data("index");c.index=h,c.animateScrollTo(h)}),c.nav=w},h.animateScrollTo=function(c){var h=this,v=h.options,w=h.names,b=h.heights,S=h.panels,g=h.target;if(w[c]||-1==c||c==b.length){a.isFunction(v.beftoreScroll)&&v.beforeScroll(c,S[c]),v.anchorName&&(window.location.hash=w[c]);var y;-1==c?(y=h.header.offsetY,a("#ys-nav a").removeClass("active")):c==b.length?(y=h.footer.offsetY,a("#ys-nav a").removeClass("active")):(y=b[c],a("#ys-nav a").removeClass("active"),a("#ys-nav a").eq(c).addClass("active")),a(g).stop().animate({scrollTop:y},v.scrollSpeed,v.easing),a(g).promise().done(function(){a.isFunction(v.afterScroll)&&v.afterScroll(c,S[c])}),h.index=c}},h.bindScrollEvent=function(){var c=this,h=c.heights,v=(c.panels,c.options.scrollbar),w=c.timeoutId,b={handleMousedown:function(){c.scrollable=!0},handleMouseup:function(){c.scrollable=!1},handleScroll:function(){w&&clearTimeout(w),w=setTimeout(function(){if(0!=c.scrollable){c.scrollable=!1;var v=a(window).scrollTop();if(c.header&&v<c.options.headerH)S=-1;else if(c.footer&&v>h[h.length-1])S=h.length;else for(var w,i=1,b=h.length,S=0,g=Math.abs(h[0]-v);b>i;i++)w=Math.abs(h[i]-v),g>w&&(g=w,S=i);c.index=S,c.animateScrollTo(c.index)}},50)},wheelHandler:function(e,a){e.preventDefault(),a=a||-e.originalEvent.detail/3||e.originalEvent.wheelDelta/120,w&&clearTimeout(w),w=setTimeout(function(){0>a?c.footer?c.index<h.length&&c.index++:c.index<h.length-1&&c.index++:a>0&&(c.header?c.index>-1&&c.index--:c.index>0&&c.index--),c.index>=-1?c.animateScrollTo(c.index):c.index=0},100)},init:function(){v?(a(window).unbind("mousedown mouseup scroll"),a(window).bind("mousedown",b.handleMousedown),a(window).bind("mouseup",b.handleMouseup),a(window).bind("scroll",b.handleScroll)):a("body").css({overflow:"hidden"}),a(document).unbind("DOMMouseScroll mousewheel"),a(document).bind("DOMMouseScroll mousewheel",b.wheelHandler)}};b.init(),c.nav.css({display:""})},h.unbindEvent=function(){var c=this.options.scrollbar;c&&a(window).unbind("mousedown mouseup scroll"),a(document).unbind("DOMMouseScroll mousewheel"),this.index=-1,this.nav.css({display:"none"}),this.nav.find("li a").removeClass("active")}}(jQuery);
;!function(a){function c(c){var v={idPrefix:"slider-",ifInterval:!0,timeCyc:2e3,animation:"fade"},h=this;h.ops=a.extend({},v,c),h.imgs=[],h.navs=[],h.datas=[],h.init(),h.render(),h.bindEvent(),h.ops.ifInterval&&setTimeout(function(){h.openInterval()},h.ops.timeCyc)}function v(a,c,v){var h=a.substring(0,a.indexOf("-")+1),I=a.substring(a.indexOf("-")+1,a.indexOf(".png"));return a=h+I.replace(c,v)+".png"}c.prototype.init=function(){var c=this,v=c.ops,h=v.idPrefix+"img",I=v.idPrefix+"nav",g=v.idPrefix+"data",w=a("#"+h).find(".img-item"),y=a("#"+I).find("ul li"),z=a("#"+g).find(".datas-info");c.imgs=w,c.navs=y,c.datas=z,c.navs.length<1&&(c.navs=!1),c.datas.length<1&&(c.datas=!1),c.imgWidth=a(w[0]).width(),c.showIndex=0},c.prototype.render=function(){var c=this,v=c.ops,h=v.animation,I=c.imgs;if(h.indexOf("slide")>-1){var g=c.showIndex+1;g>I.length-1&&(g=0),I.each(function(i,v){var h=a(v);h.css({position:"absolute",left:0}),h.css(i==c.showIndex?{zIndex:2}:i==g?{zIndex:1}:{zIndex:0})})}else I.each(function(i,c){var v=a(c);0!=i&&v.css({display:"none"})})},c.prototype.bindEvent=function(){var c=this,h=c.ops,I=(c.imgs,c.navs),g=(c.datas,{clickhandler:function(a){h.ifInterval&&c.intervalId&&(clearInterval(c.intervalId),c.intervalId=""),c.moveTo(a),h.ifInterval&&!c.intervalId&&setTimeout(function(){c.openInterval()},h.timeCyc)},overhandler:function(h){if(h!=c.showIndex){var h=(a(this),h),g=a(I[h]),w=g.find("img"),y=a(w).attr("src");w.attr("src",v(y,new RegExp(/[n]/),"h"))}},outhandler:function(h){if(h!=c.showIndex){var h=(a(this),h),g=a(I[h]),w=g.find("img"),y=a(w).attr("src");w.attr("src",v(y,new RegExp(/[h]/),"n"))}}});I&&I.each(function(i,c){a(c).on("click",function(){g.clickhandler.call(this,i)}),a(c).on("mouseover",function(){g.overhandler.call(this,i)}),a(c).on("mouseout",function(){g.outhandler.call(this,i)})})},c.prototype.moveTo=function(c){var h=this,c=c,I=h.ops,g=I.animation,w=h.imgs,y=h.navs,z=h.showIndex,O=c+1,b=h.datas;if(c!=h.showIndex){var E=a(w[c]),T=a(w[z||0]);if(b)var C=a(b[c]),P=a(b[z||0]);if(y)var R=a(y[c]),k=a(y[z||0]);if(g.indexOf("slide")>-1?(O>w.length-1&&(O=0),h.slide(T,E,a(w[O],c))):h.fade(T,E),b&&(P.hide(),C.show()),y){var W=k.find("img"),A=a(W).attr("src");W.attr("src",v(A,new RegExp(/[c]/),"n"));var j=R.find("img"),Q=a(j).attr("src");j.attr("src",v(Q,new RegExp(/[nh]/),"c"))}h.showIndex=c}},c.prototype.beforeAnimation=function(c,v,h){{var I=this,g=I.showIndex,w=g+1,y=h,z=I.imgs;I.ops.animation}w>z.length-1&&(w=0),y!=w&&a(z[w]).css({zIndex:0}),v.css({zIndex:1})},c.prototype.fade=function(a,c){a.fadeOut(500,function(){c.fadeIn(500)})},c.prototype.slide=function(a,c,v,h){var I,g=this,w=g.ops.animation;g.beforeAnimation(a,c,h),w.indexOf("left")>-1&&(I=-g.imgWidth+"px"),w.indexOf("right")>-1&&(I=g.imgWidth+"px"),a.animate({left:I},500,function(){c.css({zIndex:2}),v.css({zIndex:1}),a.css({zIndex:0,left:0})})},c.prototype.openInterval=function(){var a=this,c=a.ops,v=a.imgs;if(!a.intervalId){c.ifInterval=!0;var h=setInterval(function(){var c=a.showIndex+1;c>v.length-1&&(c=0),a.moveTo(c)},c.timeCyc);a.intervalId=h}},a.fn.imgSlider=function(v,h){return this.each(function(){var I=a.data(this,"slider");return I?void("string"==typeof v&&"function"==typeof I[v]&&I[v].apply(I,h||[])):a.data(this,"slider",new c(v))})}}(jQuery);
;var hasVideo=!!document.createElement("video").canPlayType;hasVideo||jQuery("#videos").remove(),jQuery(function(){!hasVideo&&jQuery("#videos")&&jQuery("#videos").remove();var a;jQuery(".panel").css("height",jQuery(window).height()),jQuery("#main").css("height","640px"),jQuery(".container").css({height:jQuery(window).height(),width:jQuery(window).width()}),jQuery(".s1-video-box").width(Math.floor(jQuery(window).width()/3)),jQuery(".video-stage").css({width:3*jQuery(".s1-video-box").width(),height:jQuery(".box1").height()+jQuery(".box4").height()}),a={sectionPanel:".panel",scrollSpeed:700,headerH:jQuery(".header").height()+75||178,footerH:jQuery(".footer").height()||370,anchorName:!1,nav:!0,navTip:["首页","功能","外观小巧","大广角","玩法多样","配件丰富","实拍动图","APP操控","外观结构","S Master","包装","套装选择"],beforeScroll:function(a,y){jQuery(y)},afterScroll:function(a,y){var h=jQuery(y),c=h.attr("id");"wide-angle"==c&&jQuery("#wide-angle .img-stage").addClass("done"),"parts"==c&&jQuery("#slider-img").imgSlider("openInterval"),"videos"==c&&jQuery(".video-stage").addClass("done"),"app-contr"==c&&jQuery("#app-img").imgSlider("openInterval"),"structure"==c&&(jQuery("#structure .img-stage").hasClass("done")||jQuery("#structure .img-stage").addClass("done").promise().done(function(){setTimeout(function(){jQuery("#structure .intro-list").show(500)},400)}))}},hasVideo||(a.navTip=["首页","功能","外观小巧","大广角","玩法多样","配件丰富","APP操控","外观结构","S Master","包装","套装选择"]),window.onload=function(){jQuery("#slider-img").imgSlider({ifInterval:!1,timeCyc:4e3}),jQuery("#app-img").imgSlider({idPrefix:"app-",ifInterval:!1,timeCyc:4e3,animation:"slide-left"}),jQuery(".ys-cont").ysSlide(a)},hasVideo&&(jQuery(window).resize(function(){var a=jQuery(this);jQuery(".container").css({height:jQuery(window).height(),width:jQuery(window).width()}),a.width()>730&&(jQuery(".s1-video-box").width(Math.floor(a.width()/3)),jQuery(".video-stage").css({width:3*jQuery(".s1-video-box").width(),height:jQuery(".box1").height()+jQuery(".box4").height()}))}),jQuery(".control-mask").on("mouseenter",function(){var a=jQuery(this).prev();a[0].loop=!0,a[0].play()}).on("mouseleave",function(){var a=jQuery(this).prev();a[0].pause()})),jQuery("#top-buy").click(function(){jQuery(".ys-cont").ysSlide("animateScrollTo",[a.navTip.length-1])}),jQuery("#plays-a").click(function(){jQuery("#t2").click()}),jQuery("#goMaster").click(function(){jQuery("#tmaster").click()})});